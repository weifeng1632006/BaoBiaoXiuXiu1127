<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>厂区报表目录检索系统</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <script src="https://unpkg.com/element-plus"></script>
    <script src="https://unpkg.com/@element-plus/icons-vue"></script>

    <style>
        /* 蓝色科技感基础样式 */
        :root {
            --primary-blue: #409EFF;
            --guide-line: #a6eeb3;
        }
        
        body { background-color: #f0f7ff; font-family: 'PingFang SC', sans-serif; }

        .tree-panel {
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background: #fff;
            padding: 20px;
        }

        /* 标题样式：增加手型指针和悬停效果 */
        .fileroot {
            font-size: 24px; /* 调大标题字号 */
            color: #1890ff;
            font-weight: bold;
            cursor: pointer; /* 鼠标变为手型 */
            transition: color 0.3s;
            display: inline-block;
            margin-bottom: 15px;
        }
        .fileroot:hover { color: #409eff; text-decoration: underline; }

        /* 树节点间距与文字大小设置 */
        .el-tree-node__content {
            height: 40px !important; /* 增加节点高度，让间距更舒适 */
            border-radius: 4px;
        }
        .notfileroot {
            font-size: 16px; /* 调大子节点文字 */
            color: #444;
        }

        /* 垂直引导线样式优化 */
        .el-tree-node__children {
            border-left: 1px dashed var(--guide-line);
            margin-left: 25px !important;
            padding-left: 10px;
        }

        /* 保持原有卡片布局 */
        .card-title {
            min-height: 800px;
            background: linear-gradient(to bottom, #ffffff, #e6f1fc);
            border-radius: 12px;
        }
        .div-tree { margin-bottom: 40px; }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="tree-panel">
                <div class="search-title">
                    <el-icon><FolderOpened /></el-icon>
                    <span class="titlename" style="font-size: 20px; font-weight: bold; margin-right: 20px;">厂区报表目录检索</span>
                    <el-button type="success" @click="handleAutoExpand">全部展开</el-button>
                    <el-button type="primary" @click="handleAutoExpand2">全部收缩</el-button>
                    <el-input v-model="searchText" placeholder="搜索报表..." @input="handleSearch" style="width: 250px; margin-left: 20px;"></el-input>
                </div>

                <div class="tree-container">
                    <el-row :gutter="20">
                        <el-col :span="12">
                            <el-card class="card-title">
                                <div class="div-tree">
                                    <span class="fileroot" @click="toggleTreeCollapse('选矿分厂')">1. 选矿分厂 (点击展开/折叠)</span>
                                    <el-tree :data="data['选矿分厂']['data_name']" :ref="setTreeRef('选矿分厂')" node-key="id" :props="defaultProps" @node-click="handleNodeClick">
                                        <template #default="{ node, data }">
                                            <span class="custom-node">
                                                <el-icon v-if="data.type==='file'" class="document-icon"><Document /></el-icon>
                                                <span class="notfileroot">{{ node.label }}</span>
                                            </span>
                                        </template>
                                    </el-tree>
                                </div>
                                <div class="div-tree">
                                    <span class="fileroot" @click="toggleTreeCollapse('硫酸分厂')">3. 硫酸分厂</span>
                                    <el-tree :data="data['硫酸分厂']['data_name']" :ref="setTreeRef('硫酸分厂')" node-key="id" :props="defaultProps" @node-click="handleNodeClick">
                                        </el-tree>
                                </div>
                            </el-card>
                        </el-col>
                        </el-row>
                </div>
            </div>
        </div>
    </div>
    <script src="./index.js"></script>
</body>
</html>